{% extends 'base.html.twig' %}

{% block title %}{{ parent()}} - Mon compte{% endblock %}

{% block stylesheets %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.6.0/font/bootstrap-icons.css">
{{ parent()}}
{% endblock %}


{% block body %}
<div class="content">
    <h1 class="title">Mon compte</h1>

    <div class="sk-atelier">
        {% if atelier is not empty %}
            <h2>Accéder à l'atelier de dégustation</h2>
            <a class="sk-cta-atelier" href="{{ path('fiche',{'userSlug':user.slug,'vinSlug':vin.slug})}}">Let's Go</a>
        {% endif %}
    </div>

    <div class="sk-divider-profil"></div>

    <h2 class="titlesection">Mes informations : </h2>

    <table class="sk-custom-table mb-5">
        <tbody>
        <tr>
            <th>Nom</th>
            <td>{{ user.name }}</td>
        </tr>
         <tr>
            <th>Prénom</th>
            <td>{{ user.firstname }}</td>
        </tr>
         <tr>
            <th>Email</th>
            <td>{{ user.email }}</td>
        </tr>
         <tr>
            <th>Téléphone</th>
            <td>{{ user.phone }}</td>
        </tr>
        <tr>
            <th>Date de naissance</th>
            <td>{{ user.birthdate|date('d-m-Y') }}</td>
        </tr>
        <tr>
            <th>Adresse</th>
            <td>{{ user.street }}</td>
        </tr>
        <tr>
            <th>Code postal</th>
            <td>{{ user.postalcode }}</td>
        </tr>
        <tr>
            <th>Ville</th>
            <td>{{ user.city }}</td>
        </tr>
        </tbody>
    </table>


    <div class="sk-divider-profil"></div>
    <h2 class="titlesection">Mes favoris : </h2>

    {% if user.getWatchlist().isEmpty() %}
    <div class="carre mb-5">
        <p class="text-center fw-bold">Votre watchlist est vide.</p>
    </div>
    {% else %}
        <table class="sk-custom-table mb-5">
  <thead>
    <tr>
      <th scope="col">Nom</th>
      <th scope="col">Description</th>
      <th scope="col">Région</th>
      <th scope="col">Année</th>
      <th scope="col">Prix</th>
      <th scope="col" class="text-center">Action</th>
    </tr>
  </thead>
  <tbody>
    {% for vin in user.getWatchlist() %}
    <tr>
      <td>{{ vin.nom }}</td>
      <td>{{ vin.description }}</td>
      <td>{{ vin.region }}</td>
      <td>{{ vin.millesime }}</td>
      <td>{{ vin.prix }} €</td>
      <td class="text-center sk-trash"><a href="{{ path('app_profil_delete_watchlist', {slug: vin.slug })}}" title="Supprimer" data-toggle="tooltip"><i class="bi bi-trash"></i></a></td>
    </tr>
    {% endfor %}
  </tbody>
</table>

    {% endif %}



    <div class="sk-divider-profil"></div>
    <h2 class="titlesection">Mon profil gustatif : </h2>

    <div class="sk-divider-profil"></div>
    <h2 class="titlesection">Mes recettes : </h2>

    <div class="sk-divider-profil"></div>
    <h2 class="titlesection">Mes ateliers : </h2>

    <div class="sk-divider-profil"></div>
    <h2 class="titlesection">Mes fiches de dégustation : </h2>

    <div class="sk-divider-profil"></div>
    <h2 class="titlesection">Mes commandes : </h2>


</div>

{% block javascripts %} {{ parent()}}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
{% endblock %}

{% endblock %}


